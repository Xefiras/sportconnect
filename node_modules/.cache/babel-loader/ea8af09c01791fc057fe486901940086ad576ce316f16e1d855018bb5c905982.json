{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Beleche\\\\Downloads\\\\fullstack\\\\frontend\\\\src\\\\sportconnect\\\\CreateCancha.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/* global google */\nimport axios from \"axios\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { Wrapper } from \"@googlemaps/react-wrapper\";\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = \"AIzaSyCJo1rwUOqunbf0Z1iXS3-kayDbghfUHZY\";\nconst URI = 'http://localhost:8000/createCancha';\nconst URICNCE = 'http://localhost:8000/getCanchaDeportivo'; //Checar Numero de Cancha Existente\n\n/* Inicio Funcionamiento de Maps */\n// Componente para manejar el mapa\nconst Map = ({\n  center,\n  zoom,\n  onMapClick,\n  marker\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const [map, setMap] = useState(null);\n  useEffect(() => {\n    if (!map && mapRef.current) {\n      // Crear un nuevo mapa\n      const newMap = new google.maps.Map(mapRef.current, {\n        center,\n        zoom\n      });\n\n      // Agregar el manejador de clic en el mapa\n      newMap.addListener(\"click\", event => {\n        if (onMapClick) {\n          onMapClick(event.latLng);\n        }\n      });\n      setMap(newMap);\n    } else if (map) {\n      // Actualizar el centro y el nivel de zoom del mapa existente\n      map.setCenter(center);\n      console.log(center.lat);\n      map.setZoom(zoom);\n    }\n  }, [mapRef, map, center, zoom, onMapClick]);\n  useEffect(() => {\n    if (map && marker) {\n      // Eliminar marcadores existentes\n      map.markers && map.markers.forEach(m => m.setMap(null));\n\n      // Crear nuevo marcador\n      const newMarker = new google.maps.Marker({\n        position: marker,\n        map\n      });\n      map.markers = [newMarker];\n    }\n  }, [map, marker]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapRef,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 12\n  }, this);\n};\n/* Fin Funcionamiento de Maps */\n_s(Map, \"hr4EvM1T0HM03BexHOZNVoZbIHw=\");\n_c = Map;\nconst CompCreateCancha = () => {\n  _s2();\n  const navigate = useNavigate();\n  const {\n    ID_Deportivo,\n    coordsParam,\n    RFC_CURP\n  } = useParams(); // Tomamos el id del deportivo al que pertenece\n  const [Tipo_Cancha, setTipoCancha] = useState('Fútbol');\n  const [Numero_Cancha, setNumeroCancha] = useState('');\n  const [Material_Piso, setMaterialPiso] = useState('Césped');\n  const [Techado, setTechado] = useState(false);\n  const [Con_Gradas, setConGradas] = useState(false);\n  const [Estado, setEstado] = useState('Buena Condición');\n  const [Capacidad_Jugadores, setCapacidadJugadores] = useState('');\n  const [formErrors, setFormErrors] = useState({});\n  const [Coordenadas, setCoordenadas] = useState('');\n\n  //Para el mapa\n  //Obtenemos las coordenadas desde el parametro de la URL, lo dividimos de acuerdo a la coma y lo asignamos a latitud y longitud\n  //Estableciendolo como centro por defecto para ingresar las canchas\n  const [lat, long] = coordsParam.split(',');\n  console.log(\"lat\", lat);\n  console.log(\"long\", long);\n  const [center, setCenter] = useState({\n    lat: parseFloat(lat),\n    lng: parseFloat(long)\n  });\n  const [zoom, setZoom] = useState(17);\n  const [marker, setMarker] = useState(null);\n  const searchInputRef = useRef(null);\n  const handleMapClick = latLng => {\n    const newMarker = {\n      lat: latLng.lat(),\n      lng: latLng.lng()\n    };\n    setMarker(newMarker);\n    setCoordenadas(`${newMarker.lat}, ${newMarker.lng}`);\n    setCenter(`${newMarker.lat}, ${newMarker.lng}`);\n  };\n  useEffect(() => {\n    // Configurar autocompletar en el campo de búsqueda\n    if (searchInputRef.current) {\n      const autocomplete = new google.maps.places.Autocomplete(searchInputRef.current);\n\n      // Limitar los tipos de búsqueda a establecimientos (lugares)\n      autocomplete.setTypes([\"establishment\"]);\n\n      // Agregar filtro de palabras clave para solo buscar deportivos\n      autocomplete.setFields([\"name\", \"geometry\", \"types\"]);\n\n      // Define los límites de la Ciudad de México\n      const mexicoCityBounds = new google.maps.LatLngBounds(new google.maps.LatLng(19.1500, -99.3250),\n      // Suroeste de la Ciudad de México\n      new google.maps.LatLng(19.6300, -98.9900) // Noreste de la Ciudad de México\n      );\n\n      // Establece los límites geográficos para restringir la búsqueda a la Ciudad de México\n      autocomplete.setBounds(mexicoCityBounds);\n\n      // Manejador cuando se selecciona un lugar\n      autocomplete.addListener(\"place_changed\", () => {\n        const place = autocomplete.getPlace();\n        if (place && place.geometry) {\n          const location = place.geometry.location;\n          const newCenter = {\n            lat: location.lat(),\n            lng: location.lng()\n          };\n\n          // Centrar el mapa en la ubicación seleccionada y agregar un marcador\n          setCenter(newCenter);\n          //console.log(\"here\",newCenter.lat)\n          setMarker(newCenter);\n          setCoordenadas(`${newCenter.lat}, ${newCenter.lng}`);\n        }\n      });\n    }\n  }, [searchInputRef]);\n  const status = ['Buena Condición', 'En Mantenimiento', 'Sin Mantenimiento'];\n  const pisos = ['Césped', 'Tierra', 'Asfalto'];\n  const tiposCancha = ['Fútbol', 'Fútbol 7', 'Fútbol Rápido', 'Básquetbol', 'Voleibol', 'Tenis', 'Paddle', 'Frontón', 'Hockey', 'Beisbol', 'Softbol', 'Rugby', 'Cricket', 'Balonmano', 'Baloncesto 3x3', 'Bádminton', 'Squash', 'Pelota Vasca', 'Pelota Mixteca'];\n  const showErrorAlert = message => {\n    Swal.fire({\n      icon: 'error',\n      title: 'Error',\n      text: message,\n      confirmButtonText: 'OK'\n    });\n  };\n  const showSuccessAlert = message => {\n    Swal.fire({\n      icon: 'success',\n      title: 'Éxito',\n      text: message,\n      confirmButtonText: 'OK'\n    });\n  };\n\n  // Función para validar el formulario\n  const validateForm = () => {\n    let errors = {};\n    let isValid = true;\n    if (!Tipo_Cancha) {\n      errors.Tipo_Cancha = \"Este campo es requerido\";\n      isValid = false;\n    }\n    if (!Numero_Cancha) {\n      errors.Numero_Cancha = \"Este campo es requerido\";\n      isValid = false;\n    } else if (isNaN(Number(Numero_Cancha))) {\n      if (Numero_Cancha === \"S/N\" || Numero_Cancha === \"s/n\") {\n        isValid = true;\n      } else {\n        errors.Numero_Cancha = \"Este campo debe ser un valor numérico o S/N\";\n        isValid = false;\n      }\n    }\n    if (!Capacidad_Jugadores) {\n      errors.Capacidad_Jugadores = \"Este campo es requerido\";\n      isValid = false;\n    } else if (isNaN(Number(Capacidad_Jugadores))) {\n      errors.Capacidad_Jugadores = \"Este campo debe ser un valor numérico\";\n      isValid = false;\n    }\n    setFormErrors(errors);\n    return isValid;\n  };\n\n  // Función para verificar si ya existe una cancha con el mismo número\n  const checkNumeroCanchaExistente = async () => {\n    try {\n      //console.log(\"iddeportivo\", ID_Deportivo)        \n      // Realizar una solicitud GET para obtener todas las canchas del deportivo\n      const response = await axios.get(`${URICNCE}/${ID_Deportivo}`);\n      const canchas = response.data;\n      //console.log(\"datos\", response.data)        \n\n      // Verificar si alguna cancha tiene el mismo número que la nueva cancha\n      const numeroCanchaExistente = canchas.find(cancha => cancha.Numero_Cancha === Numero_Cancha);\n\n      //console.log(\"numeroCanchaExistente\", numeroCanchaExistente)        \n\n      if (numeroCanchaExistente.Numero_Cancha === \"S/N\" || numeroCanchaExistente.Numero_Cancha === \"s/n\") {\n        return false;\n      } else {\n        return numeroCanchaExistente !== undefined;\n      }\n    } catch (error) {\n      console.error('Error al verificar la existencia de la cancha:', error);\n    }\n  };\n\n  // Procedimiento para almacenar una nueva cancha\n  const store = async e => {\n    e.preventDefault();\n    const numeroExistente = await checkNumeroCanchaExistente();\n    if (numeroExistente) {\n      showErrorAlert(\"Ya existe una cancha con ese numero\");\n      return;\n    }\n\n    // Validar coordenadas\n    if (!isValidCoordinates(Coordenadas)) {\n      showErrorAlert(\"Las coordenadas no tienen el formato correcto\");\n      return;\n    }\n\n    // Validar el formulario antes de enviar la solicitud\n    if (!validateForm()) {\n      return;\n    }\n    try {\n      // Enviar solicitud POST para crear una nueva cancha\n      await axios.post(URI, {\n        Tipo_Cancha,\n        Numero_Cancha,\n        Material_Piso,\n        Techado,\n        Con_Gradas,\n        Estado,\n        Capacidad_Jugadores,\n        ID_Deportivo,\n        Coordenadas\n      });\n      showSuccessAlert(\"Cancha creada\");\n      navigate(`/showDeportivos/enc/${RFC_CURP}`); // Regresar al inicio después de crear la cancha, con el parametro de encargado Y REGRESAR AL MENU PRINCIPAL CON LOS DEPORTIVOS DEL ENCARGADO\n    } catch (error) {\n      console.error('Error al crear la cancha:', error);\n    }\n  };\n  const isValidCoordinates = Coordenadas => {\n    const regex = /^-?\\d+\\.\\d+,\\s*-?\\d+\\.\\d+$/;\n    return regex.test(Coordenadas);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"formulario\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Ingresar nueva cancha\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: store,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Coordenadas (Latitud, Longitud)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: Coordenadas,\n          onChange: e => setCoordenadas(e.target.value),\n          className: \"form-control\",\n          required: true,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: \"100vh\",\n            width: \"100%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Wrapper, {\n            apiKey: API_KEY,\n            render: status => /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 67\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Map, {\n              center: center,\n              zoom: zoom,\n              onMapClick: handleMapClick,\n              marker: marker\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          padding: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Tipo Cancha\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: Tipo_Cancha,\n          onChange: e => setTipoCancha(e.target.value),\n          className: \"form-control\",\n          children: tiposCancha.map((tipo, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: tipo,\n            children: tipo\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }, this), \"                    \", formErrors.Tipo_Cancha && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: formErrors.Tipo_Cancha\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 77\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Numero de Cancha\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: Numero_Cancha,\n          onChange: e => setNumeroCancha(e.target.value),\n          className: `form-control ${formErrors.Numero_Cancha && 'is-invalid'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this), formErrors.Numero_Cancha && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: formErrors.Numero_Cancha\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Material del Piso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: Material_Piso,\n          onChange: e => setMaterialPiso(e.target.value),\n          className: \"form-control\",\n          children: pisos.map((pi, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: pi,\n            children: pi\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Techado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: Techado,\n          onChange: e => setTechado(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Con Gradas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: Con_Gradas,\n          onChange: e => setConGradas(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Estado Actual\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: Estado,\n          onChange: e => setEstado(e.target.value),\n          className: \"form-control\",\n          children: status.map((stat, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: stat,\n            children: stat\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Capacidad de Personas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: Capacidad_Jugadores,\n          onChange: e => setCapacidadJugadores(e.target.value),\n          className: `form-control ${formErrors.Capacidad_Jugadores && 'is-invalid'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 21\n        }, this), formErrors.Capacidad_Jugadores && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: formErrors.Capacidad_Jugadores\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 56\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Crear Cancha\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 9\n  }, this);\n};\n_s2(CompCreateCancha, \"MF6ivfJIZcnzNYdVtBEuLYd3CCU=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c2 = CompCreateCancha;\nexport default CompCreateCancha;\nvar _c, _c2;\n$RefreshReg$(_c, \"Map\");\n$RefreshReg$(_c2, \"CompCreateCancha\");","map":{"version":3,"names":["axios","useState","useEffect","useRef","Wrapper","useNavigate","useParams","useLocation","Swal","jsxDEV","_jsxDEV","API_KEY","URI","URICNCE","Map","center","zoom","onMapClick","marker","_s","mapRef","map","setMap","current","newMap","google","maps","addListener","event","latLng","setCenter","console","log","lat","setZoom","markers","forEach","m","newMarker","Marker","position","ref","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","CompCreateCancha","_s2","navigate","ID_Deportivo","coordsParam","RFC_CURP","Tipo_Cancha","setTipoCancha","Numero_Cancha","setNumeroCancha","Material_Piso","setMaterialPiso","Techado","setTechado","Con_Gradas","setConGradas","Estado","setEstado","Capacidad_Jugadores","setCapacidadJugadores","formErrors","setFormErrors","Coordenadas","setCoordenadas","long","split","parseFloat","lng","setMarker","searchInputRef","handleMapClick","autocomplete","places","Autocomplete","setTypes","setFields","mexicoCityBounds","LatLngBounds","LatLng","setBounds","place","getPlace","geometry","location","newCenter","status","pisos","tiposCancha","showErrorAlert","message","fire","icon","title","text","confirmButtonText","showSuccessAlert","validateForm","errors","isValid","isNaN","Number","checkNumeroCanchaExistente","response","get","canchas","data","numeroCanchaExistente","find","cancha","undefined","error","store","e","preventDefault","numeroExistente","isValidCoordinates","post","regex","test","className","children","onSubmit","type","value","onChange","target","required","disabled","apiKey","render","padding","tipo","index","pi","checked","stat","_c2","$RefreshReg$"],"sources":["C:/Users/Beleche/Downloads/fullstack/frontend/src/sportconnect/CreateCancha.js"],"sourcesContent":["/* global google */\r\nimport axios from \"axios\";\r\nimport {  useState, useEffect, useRef  } from \"react\";\r\nimport { Wrapper } from \"@googlemaps/react-wrapper\";\r\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst API_KEY = \"AIzaSyCJo1rwUOqunbf0Z1iXS3-kayDbghfUHZY\"; \r\n\r\nconst URI = 'http://localhost:8000/createCancha';\r\nconst URICNCE = 'http://localhost:8000/getCanchaDeportivo'; //Checar Numero de Cancha Existente\r\n\r\n/* Inicio Funcionamiento de Maps */\r\n// Componente para manejar el mapa\r\nconst Map = ({ center, zoom, onMapClick, marker }) => {\r\n    const mapRef = useRef(null);\r\n    const [map, setMap] = useState(null);\r\n  \r\n    useEffect(() => {\r\n      if (!map && mapRef.current) {\r\n        // Crear un nuevo mapa\r\n        const newMap = new google.maps.Map(mapRef.current, {\r\n          center,\r\n          zoom,\r\n        });\r\n  \r\n        // Agregar el manejador de clic en el mapa\r\n        newMap.addListener(\"click\", (event) => {\r\n          if (onMapClick) {\r\n            onMapClick(event.latLng);\r\n          }\r\n        });\r\n  \r\n        setMap(newMap);\r\n      } else if (map) {\r\n        // Actualizar el centro y el nivel de zoom del mapa existente\r\n        map.setCenter(center);\r\n        console.log(center.lat)\r\n        map.setZoom(zoom);\r\n    }\r\n    }, [mapRef, map, center, zoom, onMapClick]);\r\n  \r\n    useEffect(() => {\r\n      if (map && marker) {\r\n        // Eliminar marcadores existentes\r\n        map.markers && map.markers.forEach((m) => m.setMap(null));\r\n        \r\n        // Crear nuevo marcador\r\n        const newMarker = new google.maps.Marker({\r\n          position: marker,\r\n          map,\r\n        });\r\n        \r\n        map.markers = [newMarker];\r\n      }\r\n    }, [map, marker]);\r\n  \r\n    return <div ref={mapRef} style={{ width: \"100%\", height: \"100%\" }} />;\r\n  };\r\n/* Fin Funcionamiento de Maps */\r\n\r\nconst CompCreateCancha = () => {\r\n    const navigate = useNavigate();\r\n    const { ID_Deportivo, coordsParam, RFC_CURP } = useParams(); // Tomamos el id del deportivo al que pertenece\r\n    const [Tipo_Cancha, setTipoCancha] = useState('Fútbol');\r\n    const [Numero_Cancha, setNumeroCancha] = useState('');\r\n    const [Material_Piso, setMaterialPiso] = useState('Césped');\r\n    const [Techado, setTechado] = useState(false);\r\n    const [Con_Gradas, setConGradas] = useState(false);\r\n    const [Estado, setEstado] = useState('Buena Condición');\r\n    const [Capacidad_Jugadores, setCapacidadJugadores] = useState('');\r\n    const [formErrors, setFormErrors] = useState({});\r\n    const [Coordenadas, setCoordenadas] = useState('');\r\n\r\n    //Para el mapa\r\n    //Obtenemos las coordenadas desde el parametro de la URL, lo dividimos de acuerdo a la coma y lo asignamos a latitud y longitud\r\n    //Estableciendolo como centro por defecto para ingresar las canchas\r\n    const [lat, long] = coordsParam.split(',');\r\n\r\n    console.log(\"lat\", lat)\r\n    console.log(\"long\", long)\r\n    const [center, setCenter] = useState({ lat: parseFloat(lat), lng: parseFloat(long) });\r\n    const [zoom, setZoom] = useState(17);\r\n    const [marker, setMarker] = useState(null);\r\n    const searchInputRef = useRef(null);\r\n\r\n    const handleMapClick = (latLng) => {\r\n        const newMarker = { lat: latLng.lat(), lng: latLng.lng() };\r\n        setMarker(newMarker);\r\n        setCoordenadas(`${newMarker.lat}, ${newMarker.lng}`);\r\n        setCenter(`${newMarker.lat}, ${newMarker.lng}`);\r\n      };\r\n\r\n      useEffect(() => {\r\n        // Configurar autocompletar en el campo de búsqueda\r\n        if (searchInputRef.current) {\r\n          const autocomplete = new google.maps.places.Autocomplete(searchInputRef.current);\r\n    \r\n          // Limitar los tipos de búsqueda a establecimientos (lugares)\r\n          autocomplete.setTypes([\"establishment\"]);\r\n    \r\n          // Agregar filtro de palabras clave para solo buscar deportivos\r\n          autocomplete.setFields([\"name\", \"geometry\", \"types\"]);\r\n          \r\n    \r\n          // Define los límites de la Ciudad de México\r\n          const mexicoCityBounds = new google.maps.LatLngBounds(\r\n            new google.maps.LatLng(19.1500, -99.3250), // Suroeste de la Ciudad de México\r\n            new google.maps.LatLng(19.6300, -98.9900) // Noreste de la Ciudad de México\r\n          );\r\n    \r\n          // Establece los límites geográficos para restringir la búsqueda a la Ciudad de México\r\n          autocomplete.setBounds(mexicoCityBounds);\r\n    \r\n          // Manejador cuando se selecciona un lugar\r\n          autocomplete.addListener(\"place_changed\", () => {\r\n            const place = autocomplete.getPlace();\r\n            \r\n            if (place && place.geometry) {\r\n              const location = place.geometry.location;\r\n              const newCenter = {\r\n                lat: location.lat(),\r\n                lng: location.lng(),\r\n              };\r\n    \r\n              // Centrar el mapa en la ubicación seleccionada y agregar un marcador\r\n              setCenter(newCenter);\r\n              //console.log(\"here\",newCenter.lat)\r\n              setMarker(newCenter);\r\n              setCoordenadas(`${newCenter.lat}, ${newCenter.lng}`);\r\n            }\r\n          });\r\n        }\r\n      }, [searchInputRef]);\r\n\r\n    const status = ['Buena Condición', 'En Mantenimiento', 'Sin Mantenimiento'];\r\n    const pisos = ['Césped', 'Tierra', 'Asfalto'];\r\n    const tiposCancha = [\r\n        'Fútbol', \r\n        'Fútbol 7', \r\n        'Fútbol Rápido', \r\n        'Básquetbol', \r\n        'Voleibol', \r\n        'Tenis', \r\n        'Paddle', \r\n        'Frontón', \r\n        'Hockey', \r\n        'Beisbol', \r\n        'Softbol',\r\n        'Rugby',\r\n        'Cricket',\r\n        'Balonmano',\r\n        'Baloncesto 3x3',\r\n        'Bádminton',\r\n        'Squash',\r\n        'Pelota Vasca',\r\n        'Pelota Mixteca'\r\n    ];\r\n\r\n    const showErrorAlert = (message) => {\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: message,\r\n            confirmButtonText: 'OK'\r\n        });\r\n    };     \r\n\r\n    const showSuccessAlert = (message) => {\r\n        Swal.fire({\r\n            icon: 'success',\r\n            title: 'Éxito',\r\n            text: message,\r\n            confirmButtonText: 'OK'\r\n        });\r\n    }; \r\n\r\n    // Función para validar el formulario\r\n    const validateForm = () => {\r\n        let errors = {};\r\n        let isValid = true;\r\n\r\n        if (!Tipo_Cancha) {\r\n            errors.Tipo_Cancha = \"Este campo es requerido\";\r\n            isValid = false;\r\n        }\r\n\r\n        if (!Numero_Cancha) {\r\n            errors.Numero_Cancha = \"Este campo es requerido\";\r\n            isValid = false;\r\n        } else if (isNaN(Number(Numero_Cancha))) {            \r\n            if(Numero_Cancha===\"S/N\" || Numero_Cancha===\"s/n\"){\r\n                isValid = true;\r\n            }\r\n            else{\r\n                errors.Numero_Cancha = \"Este campo debe ser un valor numérico o S/N\";\r\n                isValid = false;\r\n            }\r\n        }\r\n\r\n        if (!Capacidad_Jugadores) {\r\n            errors.Capacidad_Jugadores = \"Este campo es requerido\";\r\n            isValid = false;\r\n        } else if (isNaN(Number(Capacidad_Jugadores))) {\r\n            errors.Capacidad_Jugadores = \"Este campo debe ser un valor numérico\";\r\n            isValid = false;\r\n        }\r\n\r\n        setFormErrors(errors);\r\n        return isValid;\r\n    };\r\n\r\n    // Función para verificar si ya existe una cancha con el mismo número\r\n    const checkNumeroCanchaExistente = async () => {\r\n        try {    \r\n            //console.log(\"iddeportivo\", ID_Deportivo)        \r\n            // Realizar una solicitud GET para obtener todas las canchas del deportivo\r\n            const response = await axios.get(`${URICNCE}/${ID_Deportivo}`);\r\n            const canchas = response.data;\r\n            //console.log(\"datos\", response.data)        \r\n\r\n            // Verificar si alguna cancha tiene el mismo número que la nueva cancha\r\n            const numeroCanchaExistente = canchas.find(cancha => (\r\n                cancha.Numero_Cancha === Numero_Cancha             \r\n            ));\r\n            \r\n            //console.log(\"numeroCanchaExistente\", numeroCanchaExistente)        \r\n\r\n            if(numeroCanchaExistente.Numero_Cancha === \"S/N\" || numeroCanchaExistente.Numero_Cancha === \"s/n\"){\r\n                return false\r\n            }\r\n            else{\r\n                return numeroCanchaExistente !== undefined;\r\n            }\r\n            \r\n        } catch (error) {\r\n            console.error('Error al verificar la existencia de la cancha:', error);\r\n        }\r\n    };\r\n\r\n    // Procedimiento para almacenar una nueva cancha\r\n    const store = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const numeroExistente = await checkNumeroCanchaExistente();\r\n        \r\n        if (numeroExistente) {\r\n            showErrorAlert(\"Ya existe una cancha con ese numero\");\r\n            return;\r\n        }\r\n\r\n        // Validar coordenadas\r\n        if (!isValidCoordinates(Coordenadas)) {\r\n            showErrorAlert(\"Las coordenadas no tienen el formato correcto\");\r\n            return;\r\n        }\r\n\r\n        // Validar el formulario antes de enviar la solicitud\r\n        if (!validateForm()) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Enviar solicitud POST para crear una nueva cancha\r\n            await axios.post(URI, {\r\n                Tipo_Cancha,\r\n                Numero_Cancha,\r\n                Material_Piso,\r\n                Techado,\r\n                Con_Gradas,\r\n                Estado,\r\n                Capacidad_Jugadores,\r\n                ID_Deportivo,\r\n                Coordenadas\r\n            });\r\n            showSuccessAlert(\"Cancha creada\")\r\n            navigate(`/showDeportivos/enc/${RFC_CURP}`); // Regresar al inicio después de crear la cancha, con el parametro de encargado Y REGRESAR AL MENU PRINCIPAL CON LOS DEPORTIVOS DEL ENCARGADO\r\n        } catch (error) {\r\n            console.error('Error al crear la cancha:', error);\r\n        }\r\n    };\r\n\r\n    const isValidCoordinates = (Coordenadas) => {\r\n        const regex = /^-?\\d+\\.\\d+,\\s*-?\\d+\\.\\d+$/;\r\n        return regex.test(Coordenadas);\r\n    };\r\n\r\n    return (\r\n        <div className=\"formulario\">\r\n            <h1>Ingresar nueva cancha</h1>\r\n            <form onSubmit={store}>\r\n            <div>\r\n                <label><strong>Coordenadas (Latitud, Longitud)</strong></label> \r\n                <input type=\"text\" value={Coordenadas} onChange={(e) => setCoordenadas(e.target.value)} className=\"form-control\" required disabled/>\r\n            </div>    \r\n            <div className=\"form-group\">\r\n                <div style={{ height: \"100vh\", width: \"100%\" }}>\r\n\r\n                    <Wrapper apiKey={API_KEY} render={(status) => <h1>{status}</h1>}>\r\n                        <Map center={center} zoom={zoom} onMapClick={handleMapClick} marker={marker} />\r\n                    </Wrapper>\r\n            </div>\r\n                </div>               \r\n                <div className=\"form-group\" style={{ padding: \"20px\" }}>\r\n                    <label>Tipo Cancha</label>\r\n                    <select value={Tipo_Cancha} onChange={(e) => setTipoCancha(e.target.value)} className=\"form-control\">\r\n                        {tiposCancha.map((tipo, index) => (\r\n                            <option key={index} value={tipo}>{tipo}</option>\r\n                        ))}\r\n                    </select>                    {formErrors.Tipo_Cancha && <div className=\"invalid-feedback\">{formErrors.Tipo_Cancha}</div>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Numero de Cancha</label>\r\n                    <input type=\"text\" value={Numero_Cancha} onChange={(e) => setNumeroCancha(e.target.value)} className={`form-control ${formErrors.Numero_Cancha && 'is-invalid'}`} />\r\n                    {formErrors.Numero_Cancha && <div className=\"invalid-feedback\">{formErrors.Numero_Cancha}</div>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Material del Piso</label>\r\n                    <select value={Material_Piso} onChange={(e) => setMaterialPiso(e.target.value)} className=\"form-control\">\r\n                        {pisos.map((pi, index) => (\r\n                            <option key={index} value={pi}>{pi}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Techado</label>\r\n                    <input type=\"checkbox\" checked={Techado} onChange={(e) => setTechado(e.target.checked)} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Con Gradas</label>\r\n                    <input type=\"checkbox\" checked={Con_Gradas} onChange={(e) => setConGradas(e.target.checked)} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Estado Actual</label>\r\n                    <select value={Estado} onChange={(e) => setEstado(e.target.value)} className=\"form-control\">\r\n                        {status.map((stat, index) => (\r\n                            <option key={index} value={stat}>{stat}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Capacidad de Personas</label>\r\n                    <input type=\"text\" value={Capacidad_Jugadores} onChange={(e) => setCapacidadJugadores(e.target.value)} className={`form-control ${formErrors.Capacidad_Jugadores && 'is-invalid'}`} />\r\n                    {formErrors.Capacidad_Jugadores && <div className=\"invalid-feedback\">{formErrors.Capacidad_Jugadores}</div>}\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary\">Crear Cancha</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CompCreateCancha;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}